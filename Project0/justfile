# wipe the database and migrations, then rebuild from scratch
rebuild-db:
    rm -Rf StoreCli/store.sqlite
    rm -Rf StoreDb/Migrations
    dotnet ef migrations add --startup-project StoreCli --project StoreDb InitialCreate
    dotnet ef database update --startup-project StoreCli --project StoreDb

# build all
build:
    cd StoreDb && dotnet build StoreDb
    cd StoreCli && dotnet build StoreCli

# build cli
build-cli:
    cd StoreCli && dotnet build StoreCli

# build database project
build-db:
    cd StoreDb && dotnet build StoreDb

# run cli project
run:
    cd StoreCli && dotnet run

# run tests
test:
    dotnet test TestStoreDb
